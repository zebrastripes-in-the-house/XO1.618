import{r as m,j as t}from"./index-Dh4QyAf8.js";import{I as w}from"./ImageWithFallback-ClDaaeji.js";function k({blogs:a,onBlogClick:h}){const[r,l]=m.useState(0),x=m.useRef(null);m.useEffect(()=>{if(x.current){const e=x.current.children[r];e&&e.scrollIntoView({behavior:"smooth",block:"center"})}},[r]),m.useEffect(()=>{const e=s=>{s.key==="ArrowUp"&&r>0?(s.preventDefault(),l(r-1)):s.key==="ArrowDown"&&r<a.length-1&&(s.preventDefault(),l(r+1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,a.length]),m.useEffect(()=>{let e=!1;const s=n=>{e||(n.preventDefault(),e=!0,n.deltaY>0&&r<a.length-1?l(r+1):n.deltaY<0&&r>0&&l(r-1),setTimeout(()=>{e=!1},700))};return window.addEventListener("wheel",s,{passive:!1}),()=>window.removeEventListener("wheel",s)},[r,a.length]);const u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=e=>{const s=e.replace(/<[^>]*>/g,"").trim();return s.length>150?s.substring(0,150)+"...":s},v=e=>e&&(e.startsWith("http")||e.startsWith("data:")),b=e=>e&&e.startsWith("#");return a.length===0?t.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:t.jsx("div",{className:"text-center max-w-md mx-auto p-8",children:t.jsxs("div",{className:"border-2 border-border bg-card p-12",children:[t.jsx("h2",{className:"font-[JetBrains_Mono] mb-4 text-xl",children:"NO POSTS YET"}),t.jsx("p",{className:"text-muted-foreground",children:"Start writing your first blog post."})]})})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center px-[104px] py-[0px] p-[0px]",children:t.jsxs("div",{className:"w-full max-w-4xl mx-auto px-8",children:[t.jsx("div",{className:"fixed top-1/2 right-8 transform -translate-y-1/2 z-40 flex flex-col gap-2",children:a.map((e,s)=>t.jsx("button",{onClick:()=>l(s),className:`w-3 h-3 border-2 border-border transition-all duration-300 ${s===r?"bg-primary":"bg-background hover:bg-muted"}`},s))}),t.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-40"}),t.jsx("div",{ref:x,className:"relative",style:{height:"80vh",position:"sticky",top:0,zIndex:30,backgroundColor:"var(--background)"},children:a.map((e,s)=>{const n=Math.abs(s-r),f=s===r,g=s===r-1,j=s===r+1;let i="",o=1,c=.3,d=1;return f?(i="translateY(0)",o=1,c=1,d=10):g?(i="translateY(-120%)",o=1,c=.6,d=5):j?(i="translateY(120%)",o=1,c=.6,d=5):n<=2?(s<r?i=`translateY(-${140+(n-1)*30}%)`:i=`translateY(${140+(n-1)*30}%)`,o=1,c=Math.max(.2,.6-(n-1)*.2),d=Math.max(1,5-n)):(c=0,o=1,d=0),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-full cursor-pointer transition-all duration-700 ease-out",style:{transform:`translate(-50%, -50%) ${i} scale(${o})`,opacity:c,zIndex:d,pointerEvents:f?"auto":"none"},onClick:()=>f&&h(e),children:t.jsxs("div",{className:"bg-card border-2 border-border overflow-hidden max-w-2xl mx-auto",children:[t.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.coverImage&&b(e.coverImage)?t.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:e.coverImage}}):e.coverImage&&v(e.coverImage)?t.jsx(w,{src:e.coverImage,alt:`Cover for ${e.title}`,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:"#808080"},children:t.jsx("div",{className:"text-white font-bold text-2xl tracking-wider opacity-20",children:e.title.substring(0,3).toUpperCase()})}),t.jsx("div",{className:"absolute top-4 right-4 bg-background border-2 border-border px-3 py-1",children:t.jsx("span",{className:"font-[JetBrains_Mono] text-sm",children:u(e.createdAt)})})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"font-bold mb-4 text-2xl leading-tight",children:e.title}),t.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:p(e.content)}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-[JetBrains_Mono] text-sm text-muted-foreground",children:"CLICK TO READ MORE →"}),e.images&&e.images.length>0&&t.jsxs("span",{className:"font-[JetBrains_Mono] text-xs bg-muted px-2 py-1 border border-border",children:[e.images.length," IMAGE",e.images.length!==1?"S":""]})]})]})]})},e.id)})}),t.jsxs("div",{className:"fixed left-8 top-1/2 transform -translate-y-1/2 flex flex-col gap-4 z-40",children:[t.jsx("button",{onClick:()=>r>0&&l(r-1),disabled:r===0,className:"w-12 h-12 border-2 border-border bg-background hover:bg-muted transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center",children:t.jsx("span",{className:"font-[JetBrains_Mono] text-lg",children:"↑"})}),t.jsx("button",{onClick:()=>r<a.length-1&&l(r+1),disabled:r===a.length-1,className:"w-12 h-12 border-2 border-border bg-background hover:bg-muted transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center",children:t.jsx("span",{className:"font-[JetBrains_Mono] text-lg",children:"↓"})})]})]})})}export{k as BlogList};
