import{j as e}from"./index-Dh4QyAf8.js";import{B as o}from"./button-BzfyNrUA.js";function h({content:r,className:l="",isPreview:t=!1}){const n=r.includes("<")&&r.includes(">");if(t&&!n){const s=r.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,"").replace(/[#*`]/g,"").replace(/\n+/g," ").trim(),a=s.length>150?s.substring(0,150)+"...":s;return e.jsx("div",{className:`prose-coffee ${l}`,children:e.jsx("p",{className:"line-clamp-4 leading-relaxed mono",children:a})})}if(t&&n){const s=document.createElement("div");s.innerHTML=r;const a=s.textContent||s.innerText||"",c=a.length>150?a.substring(0,150)+"...":a;return e.jsx("div",{className:`prose-coffee ${l}`,children:e.jsx("p",{className:"line-clamp-4 leading-relaxed",children:c})})}return n?e.jsx("div",{className:`prose-coffee ${l}`,dangerouslySetInnerHTML:{__html:r},style:{lineHeight:"1.6"}}):e.jsx("div",{className:`prose-coffee ${l}`,children:u(r)})}function u(r){return r.split(`
`).map((t,n)=>{const s=`line-${n}`;if(t.startsWith("# "))return e.jsx("h1",{className:"text-2xl font-medium mt-6 mb-3 first:mt-0",children:t.slice(2)},s);if(t.startsWith("## "))return e.jsx("h2",{className:"text-xl font-medium mt-5 mb-2",children:t.slice(3)},s);if(t.startsWith("### "))return e.jsx("h3",{className:"text-lg font-medium mt-4 mb-2",children:t.slice(4)},s);if(t.trim()==="")return e.jsx("br",{},s);const a=t.match(/!\[([^\]]*)\]\(([^)]+)\)/);if(a)return e.jsx("div",{className:"my-4",children:e.jsx("img",{src:a[2],alt:a[1]||"Image",className:"w-full h-auto object-cover"})},s);const c=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>");return e.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:c}},s)})}function b({title:r,content:l,images:t,coverImage:n,createdAt:s,updatedAt:a,isPreview:c=!1,onClick:d}){const m=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),x=()=>{const i=l.match(/!\[([^\]]*)\]\(([^)]+)\)/);return i?i[2]:t.length>0?t[0]:null};return e.jsxs("article",{className:`border-2 border-border bg-card p-8 ${c?"h-80":""} ${d?"cursor-pointer hover:bg-muted transition-colors":""}`,onClick:d,children:[n&&e.jsx("div",{className:"mb-4 -mx-8 -mt-8",children:n.startsWith("#")?e.jsx("div",{className:"w-full h-32 border-b-2 border-border",style:{backgroundColor:n}}):e.jsx("img",{src:n,alt:`Cover for ${r}`,className:"w-full h-32 object-cover border-b-2 border-border"})}),e.jsxs("header",{className:"mb-4 border-b border-border pb-3",children:[e.jsx("h1",{className:"mb-2 font-medium text-lg line-clamp-2",children:r}),e.jsxs("div",{className:"flex gap-4 font-[JetBrains_Mono] text-xs text-muted-foreground",children:[e.jsxs("time",{children:["CREATED: ",m(s)]}),a!==s&&e.jsxs("time",{children:["UPDATED: ",m(a)]})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[c&&x()&&e.jsx("div",{className:"float-right ml-4 mb-2 w-24 h-24",children:e.jsx("img",{src:x(),alt:"Blog preview",className:"w-full h-full object-cover"})}),e.jsx("div",{className:`max-w-none ${c?"text-sm":""}`,children:e.jsx(h,{content:l,isPreview:c})})]}),c&&e.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:e.jsx("span",{className:"font-[JetBrains_Mono] text-xs text-muted-foreground",children:"CLICK TO READ MORE..."})})]})}function p({blog:r,onBack:l,onEdit:t,onDelete:n}){return e.jsxs("div",{className:"w-full max-w-4xl mx-auto p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-border pb-4",children:[e.jsx(o,{variant:"outline",onClick:l,className:"border-2 border-border bg-transparent hover:bg-muted",children:"‚Üê BACK"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(o,{variant:"outline",onClick:t,className:"border-2 border-border bg-transparent hover:bg-muted",children:"EDIT"}),e.jsx(o,{variant:"destructive",onClick:n,className:"border-2 border-destructive bg-destructive hover:bg-destructive/80",children:"DELETE"})]})]}),e.jsx(b,{title:r.title,content:r.content,images:r.images,createdAt:r.createdAt,updatedAt:r.updatedAt,isPreview:!1})]})}export{p as BlogDetail};
