import{r as i,j as e}from"./index-Dh4QyAf8.js";const N="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function y({lazy:t=!0,...I}){const[u,g]=i.useState(!1),[s,m]=i.useState(!t),[c,j]=i.useState(!1),r=i.useRef(null);i.useEffect(()=>{if(!t||s)return;const o=new IntersectionObserver(([b])=>{b.isIntersecting&&(m(!0),o.disconnect())},{threshold:.1,rootMargin:"50px"});return r.current&&o.observe(r.current),()=>o.disconnect()},[t,s]);const x=()=>{g(!0)},f=()=>{j(!0)},{src:l,alt:v,style:a,className:n,...d}=I;return u?e.jsx("div",{className:`inline-block bg-muted text-center align-middle ${n??""}`,style:a,ref:r,children:e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("img",{src:N,alt:"Error loading image",...d,"data-original-url":l})})}):e.jsxs("div",{className:"relative",children:[!c&&s&&e.jsx("div",{className:`absolute inset-0 bg-muted animate-pulse ${n??""}`,style:a}),e.jsx("img",{ref:r,src:s?l:void 0,alt:v,className:`${n??""} ${c?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:a,...d,onError:x,onLoad:f,loading:t?"lazy":"eager"})]})}export{y as I};
